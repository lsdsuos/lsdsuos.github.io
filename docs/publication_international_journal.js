(()=>{"use strict";const t=t=>{const e=t.target.textContent;document.querySelectorAll(".publication__year-container").forEach((t=>{const n=t.getAttribute("year-range");t.style.display=n===e||"All"===e?"block":"none"})),document.querySelectorAll(".tag__item").forEach((t=>{t.classList.toggle("selected",t.textContent===e)}))};((t,e)=>{const n=new XMLHttpRequest;n.open("GET","https://sheets.googleapis.com/v4/spreadsheets/11EYVT5etV3ezoNS_gE8EL-rhHKrnlfUYm9WHDLL0NT8/values/International Journal?key=AIzaSyAoTej9n7Owubby3AiquV5QaXFyips1S3c",!0),n.onload=function(){if(200===n.status){var t=n.responseText;const e=(t=>{const e=t.values[0],n=[];for(let s=1;s<t.values.length;s++){let o={},a=t.values[s];for(let t=0;t<e.length;t++)o[e[t]]=a[t];n.push(o)}return n})(JSON.parse(t));(t=>{const e=document.querySelector(".publication-container"),n={"2020~":[],"2004~2019":[],"1999~2003":[]};t.forEach((t=>{const{Year:e}=t;e>=2020?n["2020~"].push(t):e>=2004?n["2004~2019"].push(t):n["1999~2003"].push(t)})),Object.entries(n).forEach((([t,n])=>{const s=(t=>{const e=document.createElement("div");e.classList.add("publication__year-container"),e.setAttribute("year-range",t);const n=document.createElement("div");n.classList.add("publication__year-title");const s=document.createElement("h3");s.classList.add("title"),s.textContent=t,n.appendChild(s),e.appendChild(n);const o=document.createElement("div");return o.classList.add("publication__list-container"),e.appendChild(o),e})(t);e.appendChild(s);const o=s.querySelector(".publication__list-container");n.forEach((t=>{let{Authors:e,Title:n,Publication:s,Volume:a,Pages:c,Year:i,Highlight:l}=t;var r;r=l,e=e.split("; ").map((t=>t.trim())).map((t=>{const e=t.split(", "),n=e[1].match(/[A-Z]/g),s=e[0],o=`${n.join(". ")}. ${s}`;return"y"===r&&"D. Kim"===o?`<u>${o}</u><sup>*</sup>`:o})).join(", ");const d=document.createElement("div");d.classList.add("publication__list");const u=document.createElement("div");u.classList.add("publication__list-content");const p=document.createElement("h4");p.classList.add("title"),p.innerHTML=`${n}`;const h=document.createElement("p");h.classList.add("description"),h.innerHTML=`${e} (${i})<br>${s}, ${a}, ${c}`,u.appendChild(p),u.appendChild(h),d.appendChild(u),o.appendChild(d)}))}))})(e)}},n.onerror=function(){console.error("요청 실패")},n.send()})(),document.querySelectorAll(".tag__item").forEach((e=>{e.addEventListener("click",t)}))})();