(()=>{"use strict";const e=e=>{const t=e.target.textContent;document.querySelectorAll(".publication__year-container").forEach((e=>{const n=e.getAttribute("year-range");e.style.display=n===t||"All"===t?"block":"none"})),document.querySelectorAll(".tag__item").forEach((e=>{e.classList.toggle("selected",e.textContent===t)}))};((e,t)=>{const n=new XMLHttpRequest;n.open("GET","https://sheets.googleapis.com/v4/spreadsheets/11EYVT5etV3ezoNS_gE8EL-rhHKrnlfUYm9WHDLL0NT8/values/Book?key=AIzaSyAoTej9n7Owubby3AiquV5QaXFyips1S3c",!0),n.onload=function(){if(200===n.status){var e=n.responseText;const t=(e=>{const t=e.values[0],n=[];for(let c=1;c<e.values.length;c++){let o={},s=e.values[c];for(let e=0;e<t.length;e++)o[t[e]]=s[e];n.push(o)}return n})(JSON.parse(e));(e=>{const t=document.querySelector(".publication-container"),n={"2020~":[]};e.forEach((e=>{const{Year:t}=e;t>=2020&&n["2020~"].push(e)})),Object.entries(n).forEach((([e,n])=>{const c=(e=>{const t=document.createElement("div");t.classList.add("publication__year-container"),t.setAttribute("year-range",e);const n=document.createElement("div");n.classList.add("publication__year-title");const c=document.createElement("h3");c.classList.add("title"),c.textContent=e,n.appendChild(c),t.appendChild(n);const o=document.createElement("div");return o.classList.add("publication__list-container"),t.appendChild(o),t})(e);t.appendChild(c);const o=c.querySelector(".publication__list-container");n.length,n.forEach(((e,t)=>{const{Title:n,Publication:c,Authors:s,Year:a}=e,l=document.createElement("div");l.classList.add("publication__list");const i=document.createElement("div");i.classList.add("publication__list-content");const r=document.createElement("h4");r.classList.add("title"),r.innerHTML=`${n}`;const d=document.createElement("p");d.classList.add("description"),d.innerHTML=`${s} 공역. ${c}, ${a}.`,i.appendChild(r),i.appendChild(d),l.appendChild(i),o.appendChild(l)}))}))})(t)}},n.onerror=function(){console.error("요청 실패")},n.send()})(),document.querySelectorAll(".tag__item").forEach((t=>{t.addEventListener("click",e)}))})();