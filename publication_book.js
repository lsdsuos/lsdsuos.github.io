(()=>{"use strict";const t=t=>{const e=t.target.textContent;document.querySelectorAll(".publication__year-container").forEach((t=>{const n=t.getAttribute("year-range");t.style.display=n===e||"All"===e?"block":"none"})),document.querySelectorAll(".tag__item").forEach((t=>{t.classList.toggle("selected",t.textContent===e)}))};((t,e)=>{const n=new XMLHttpRequest;n.open("GET","https://little-firefly-f09.dongbum80.workers.dev/Book",!0),n.onload=function(){if(200===n.status){var t=n.responseText;const e=(t=>{const e=t.values[0],n=[];for(let c=1;c<t.values.length;c++){let o={},l=t.values[c];for(let t=0;t<e.length;t++)o[e[t]]=l[t];n.push(o)}return n})(JSON.parse(t));(t=>{const e=document.querySelector(".publication-container"),n={"2020~":[]};t.forEach((t=>{const{Year:e}=t;e>=2020&&n["2020~"].push(t)})),Object.entries(n).forEach((([t,n])=>{const c=(t=>{const e=document.createElement("div");e.classList.add("publication__year-container"),e.setAttribute("year-range",t);const n=document.createElement("div");n.classList.add("publication__year-title");const c=document.createElement("h3");c.classList.add("title"),c.textContent=t,n.appendChild(c),e.appendChild(n);const o=document.createElement("div");return o.classList.add("publication__list-container"),e.appendChild(o),e})(t);e.appendChild(c);const o=c.querySelector(".publication__list-container");n.length,n.forEach(((t,e)=>{const{Title:n,Publication:c,Authors:l,Year:a}=t,s=document.createElement("div");s.classList.add("publication__list");const i=document.createElement("div");i.classList.add("publication__list-content");const r=document.createElement("h4");r.classList.add("title"),r.innerHTML=`${n}`;const d=document.createElement("p");d.classList.add("description"),d.innerHTML=`${l} 공역. ${c}, ${a}.`,i.appendChild(r),i.appendChild(d),s.appendChild(i),o.appendChild(s)}))}))})(e)}},n.onerror=function(){console.error("요청 실패")},n.send()})(),document.querySelectorAll(".tag__item").forEach((e=>{e.addEventListener("click",t)}))})();